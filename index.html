
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿ƒçµä¼‘æ†©ç©ºé—´</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f8f9fa;
            color: #4a5568;
            line-height: 1.8;
        }
        
        .bg-gradient {
            background: linear-gradient(135deg, #e6f7ff 0%, #f0fff4 50%, #faf5ff 100%);
        }
        
        .card {
            background-color: rgba(255, 255, 255, 0.85);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }
        
        .nature-img {
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .nature-img:hover {
            transform: scale(1.02);
        }
        
        .btn-primary {
            background-color: #90cdf4;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background-color: #63b3ed;
        }
        
        .mood-tracker {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
        }
        
        .mood-btn {
            transition: all 0.2s ease;
        }
        
        .mood-btn:hover {
            transform: scale(1.1);
        }
        
        .quote {
            font-style: italic;
            color: #718096;
            border-left: 4px solid #90cdf4;
        }

        .music-player {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }
        
        .music-btn {
            transition: all 0.2s ease;
        }
        
        .music-btn:hover {
            transform: scale(1.05);
        }
        
        .active-music {
            background-color: #ebf8ff;
            border-color: #63b3ed;
        }

        .volume-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #e2e8f0;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #63b3ed;
            cursor: pointer;
        }
        
        .mood-history-card {
            transition: all 0.2s ease;
        }
        
        .mood-history-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gradient min-h-screen">
    <div class="container mx-auto px-4 py-12">
        <!-- æ¬¢è¿æ ‡é¢˜ -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-light text-indigo-800 mb-4">å¿ƒçµä¼‘æ†©ç©ºé—´</h1>
            <p class="text-xl text-blue-600 font-light">åœ¨ç¹å¿™ä¸­æ‰¾å¯»ç‰‡åˆ»å®é™ï¼Œè®©å¿ƒçµå¾—åˆ°èˆ’å±•</p>
        </header>

        <!-- ä¸»è¦å†…å®¹ -->
        <main>
            <!-- éŸ³ä¹æ”¾æ¾åŠŸèƒ½ -->
            <section class="mb-16">
                <div class="music-player p-6">
                    <h2 class="text-2xl text-teal-700 mb-4 text-center">è½»éŸ³ä¹æ”¾æ¾</h2>
                    <p class="text-center mb-6">é€‰æ‹©ä¸€æ®µèˆ’ç¼“çš„éŸ³ä¹ï¼Œè®©å¿ƒçµæ²‰æµ¸åœ¨å®é™ä¹‹ä¸­</p>
                    
                    <div class="flex flex-col md:flex-row justify-center items-center gap-4 mb-6">
                        <div class="flex items-center space-x-4">
                            <button id="playPauseBtn" class="music-btn p-3 rounded-full bg-blue-100 hover:bg-blue-200 focus:outline-none">
                                <i class="fas fa-play text-blue-700"></i>
                            </button>
                            
                            <div class="w-full md:w-40">
                                <input type="range" id="volumeSlider" class="volume-slider" min="0" max="100" value="70">
                            </div>
                            
                            <span id="volumeIcon" class="text-blue-700">
                                <i class="fas fa-volume-up"></i>
                            </span>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 mb-2">
                        <button class="music-btn p-3 border rounded-lg text-left text-gray-700 hover:bg-blue-50 focus:outline-none music-option" data-src="https://cdn.jsdelivr.net/gh/relaxing-music/forest-sounds@main/gentle-forest-stream.mp3">
                            <i class="fas fa-tree text-green-600 mr-2"></i> æ£®æ—æºªæµ
                        </button>
                        
                        <button class="music-btn p-3 border rounded-lg text-left text-gray-700 hover:bg-blue-50 focus:outline-none music-option" data-src="https://cdn.jsdelivr.net/gh/relaxing-music/ocean-sounds@main/calm-ocean-waves.mp3">
                            <i class="fas fa-water text-blue-600 mr-2"></i> æµ·æµªå£°
                        </button>
                        
                        <button class="music-btn p-3 border rounded-lg text-left text-gray-700 hover:bg-blue-50 focus:outline-none music-option" data-src="https://cdn.jsdelivr.net/gh/relaxing-music/piano@main/gentle-piano.mp3">
                            <i class="fas fa-music text-purple-600 mr-2"></i> è½»æŸ”é’¢ç´æ›²
                        </button>
                        
                        <button class="music-btn p-3 border rounded-lg text-left text-gray-700 hover:bg-blue-50 focus:outline-none music-option" data-src="https://cdn.jsdelivr.net/gh/relaxing-music/meditation@main/meditation-bowl.mp3">
                            <i class="fas fa-spa text-yellow-600 mr-2"></i> å†¥æƒ³éŸ³ä¹
                        </button>
                        
                        <button class="music-btn p-3 border rounded-lg text-left text-gray-700 hover:bg-blue-50 focus:outline-none music-option" data-src="https://cdn.jsdelivr.net/gh/relaxing-music/rain-sounds@main/gentle-rain.mp3">
                            <i class="fas fa-cloud-rain text-blue-500 mr-2"></i> é›¨å£°
                        </button>
                        
                        <button class="music-btn p-3 border rounded-lg text-left text-gray-700 hover:bg-blue-50 focus:outline-none music-option" data-src="https://cdn.jsdelivr.net/gh/relaxing-music/birds@main/morning-birds.mp3">
                            <i class="fas fa-dove text-indigo-600 mr-2"></i> æ™¨é¸Ÿé¸£å”±
                        </button>
                    </div>
                    
                    <p id="nowPlaying" class="text-center text-sm text-gray-500 mt-3 hidden">
                        æ­£åœ¨æ’­æ”¾: <span id="currentTrack"></span>
                    </p>
                    
                    <!-- éšè—çš„éŸ³é¢‘å…ƒç´  -->
                    <audio id="audioPlayer"></audio>
                </div>
            </section>

            <!-- å…³äºæ”¾æ¾å¿ƒæƒ…çš„å†…å®¹ -->
            <section class="mb-16">
                <div class="card p-8 mb-12">
                    <h2 class="text-2xl text-teal-700 mb-6">å¯»æ‰¾å†…å¿ƒçš„å¹³é™</h2>
                    <p class="mb-4">åœ¨ç°ä»£å¿«èŠ‚å¥çš„ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬çš„å¿ƒçµå¸¸å¸¸è¢«å„ç§å‹åŠ›å’Œç„¦è™‘æ‰€å›°æ‰°ã€‚ç„¶è€Œï¼ŒçœŸæ­£çš„å®é™å¹¶ä¸éœ€è¦è¿œç¦»å°˜åš£ï¼Œå®ƒå°±è—åœ¨æˆ‘ä»¬çš„å†…å¿ƒæ·±å¤„ï¼Œç­‰å¾…è¢«å”¤é†’ã€‚</p>
                    <p class="mb-4">æ”¾æ¾ä¸ä»…ä»…æ˜¯èº«ä½“çš„ä¼‘æ¯ï¼Œæ›´æ˜¯å¿ƒçµçš„å½’ä½ã€‚å½“æˆ‘ä»¬å­¦ä¼šæ”¾æ…¢è„šæ­¥ï¼Œæ„Ÿå—å‘¼å¸ï¼Œè§‚å¯Ÿå‘¨å›´çš„ç¾å¥½ï¼Œæˆ‘ä»¬å°±èƒ½é€æ¸æ‰¾å›å†…å¿ƒçš„å¹³é™ã€‚</p>
                    
                    <div class="quote pl-4 py-3 mt-6">
                        "å¹³é™çš„å¿ƒçµèƒ½çœ‹åˆ°æœ€ç¾çš„é£æ™¯ï¼Œå®‰å®çš„çµé­‚èƒ½å¬åˆ°æœ€åŠ¨äººçš„å£°éŸ³ã€‚"
                    </div>
                </div>

                <!-- è‡ªç„¶é£æ™¯å›¾ç‰‡ -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16">
                    <div>
                        <img src="https://images.unsplash.com/photo-1447752875215-b2761acb3c5d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="å®é™æ£®æ—" class="nature-img w-full h-64 object-cover">
                        <p class="text-center mt-2 text-gray-600">å®é™çš„æ£®æ—å°è·¯</p>
                    </div>
                    <div>
                        <img src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="å¹³é™æ¹–æ³Š" class="nature-img w-full h-64 object-cover">
                        <p class="text-center mt-2 text-gray-600">å¹³é™å¦‚é•œçš„æ¹–é¢</p>
                    </div>
                    <div>
                        <img src="https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="å£®ä¸½å±±è„‰" class="nature-img w-full h-64 object-cover">
                        <p class="text-center mt-2 text-gray-600">å£®ä¸½è€Œå®é™çš„å±±è„‰</p>
                    </div>
                </div>
            </section>

            <!-- èˆ’ç¼“å¿ƒçµçš„å°è´´å£« -->
            <section class="mb-16">
                <h2 class="text-2xl text-teal-700 mb-8 text-center">èˆ’ç¼“å¿ƒçµçš„å°è´´å£«</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="card p-6">
                        <div class="text-blue-500 text-3xl mb-4 text-center">
                            <i class="fas fa-lungs"></i>
                        </div>
                        <h3 class="text-xl text-indigo-700 mb-3">æ­£å¿µå‘¼å¸</h3>
                        <p>æ‰¾ä¸€ä¸ªå®‰é™çš„åœ°æ–¹åä¸‹ï¼Œé—­ä¸Šçœ¼ç›ï¼Œä¸“æ³¨äºå‘¼å¸ã€‚æ„Ÿå—ç©ºæ°”è¿›å…¥é¼»è…”ï¼Œå……æ»¡è‚ºéƒ¨ï¼Œå†ç¼“ç¼“å‘¼å‡ºã€‚å½“æ‚å¿µå‡ºç°æ—¶ï¼Œä¸è¦è‡ªè´£ï¼Œåªéœ€å°†æ³¨æ„åŠ›é‡æ–°æ‹‰å›å‘¼å¸ä¸Šã€‚æ¯å¤©åšæŒ5-10åˆ†é’Ÿï¼Œä¾¿èƒ½æ„Ÿå—å†…å¿ƒçš„å¹³é™ã€‚</p>
                    </div>
                    
                    <div class="card p-6">
                        <div class="text-green-500 text-3xl mb-4 text-center">
                            <i class="fas fa-tree"></i>
                        </div>
                        <h3 class="text-xl text-indigo-700 mb-3">äº²è¿‘è‡ªç„¶</h3>
                        <p>è‡ªç„¶æ˜¯æœ€å¥½çš„å¿ƒçµç–—æ„ˆå¸ˆã€‚å®‰æ’æ—¶é—´å»å…¬å›­æ•£æ­¥ï¼Œæˆ–æ˜¯è¿œè¶³å±±æ—ã€‚è†å¬é¸Ÿé¸£ï¼Œæ„Ÿå—å¾®é£ï¼Œè§‚å¯Ÿæ¤ç‰©çš„ç”Ÿé•¿ã€‚å¤§è‡ªç„¶çš„èŠ‚å¥èƒ½å¸®åŠ©æˆ‘ä»¬æ‰¾å›ç”Ÿå‘½çš„æœ¬çœŸï¼Œç¼“è§£å†…å¿ƒçš„ç„¦è™‘ã€‚</p>
                    </div>
                    
                    <div class="card p-6">
                        <div class="text-purple-500 text-3xl mb-4 text-center">
                            <i class="fas fa-book-open"></i>
                        </div>
                        <h3 class="text-xl text-indigo-700 mb-3">é˜…è¯»ç–—æ„ˆ</h3>
                        <p>é€‰æ‹©ä¸€æœ¬å–œçˆ±çš„ä¹¦ç±ï¼Œæ‰¾ä¸€ä¸ªèˆ’é€‚çš„è§’è½ï¼Œæ²‰æµ¸åœ¨æ–‡å­—çš„ä¸–ç•Œä¸­ã€‚é˜…è¯»èƒ½è®©æˆ‘ä»¬æš‚æ—¶è¿œç¦»ç°å®çš„å‹åŠ›ï¼Œè¿›å…¥å¦ä¸€ä¸ªæ—¶ç©ºï¼Œè·å¾—å¿ƒçµçš„å®é™ä¸æ»‹å…»ã€‚</p>
                    </div>
                    
                    <div class="card p-6">
                        <div class="text-yellow-500 text-3xl mb-4 text-center">
                            <i class="fas fa-walking"></i>
                        </div>
                        <h3 class="text-xl text-indigo-700 mb-3">åŠ¨æ€å†¥æƒ³</h3>
                        <p>åœ¨æ—¥å¸¸æ´»åŠ¨ä¸­ä¿æŒä¸“æ³¨ï¼Œå¦‚èµ°è·¯æ—¶å…³æ³¨è„šæ­¥ä¸åœ°é¢çš„æ¥è§¦ï¼Œåƒé¥­æ—¶ä¸“æ³¨é£Ÿç‰©çš„å‘³é“ä¸å£æ„Ÿã€‚è¿™ç§"æ´»åœ¨å½“ä¸‹"çš„çŠ¶æ€èƒ½è®©å¿ƒçµæ‘†è„±è¿‡å»çš„é—æ†¾ä¸æœªæ¥çš„æ‹…å¿§ï¼Œè·å¾—çœŸæ­£çš„å¹³é™ã€‚</p>
                    </div>
                    
                    <div class="card p-6">
                        <div class="text-red-400 text-3xl mb-4 text-center">
                            <i class="fas fa-heart"></i>
                        </div>
                        <h3 class="text-xl text-indigo-700 mb-3">åŸ¹å…»æ„Ÿæ©</h3>
                        <p>æ¯å¤©è®°å½•ä¸‰ä»¶æ„Ÿæ©çš„äº‹ï¼Œæ— è®ºå¤§å°ã€‚æ„Ÿæ©èƒ½å¤Ÿæ”¹å˜æˆ‘ä»¬çœ‹å¾…ç”Ÿæ´»çš„è§†è§’ï¼Œä½¿æˆ‘ä»¬æ›´å®¹æ˜“å‘ç°ç”Ÿæ´»ä¸­çš„ç¾å¥½ï¼Œä»è€Œå¢åŠ å¹¸ç¦æ„Ÿï¼Œå‡è½»ç„¦è™‘ä¸å‹åŠ›ã€‚</p>
                    </div>
                    
                    <div class="card p-6">
                        <div class="text-blue-400 text-3xl mb-4 text-center">
                            <i class="fas fa-moon"></i>
                        </div>
                        <h3 class="text-xl text-indigo-700 mb-3">ä¼˜è´¨ç¡çœ </h3>
                        <p>ä¿è¯å……è¶³çš„ç¡çœ æ˜¯ç¼“è§£å‹åŠ›çš„åŸºç¡€ã€‚å»ºç«‹è§„å¾‹çš„ä½œæ¯æ—¶é—´ï¼Œç¡å‰ä¸€å°æ—¶é¿å…ä½¿ç”¨ç”µå­è®¾å¤‡ï¼Œåˆ›é€ èˆ’é€‚çš„ç¡çœ ç¯å¢ƒã€‚è‰¯å¥½çš„ç¡çœ èƒ½è®©èº«å¿ƒå¾—åˆ°çœŸæ­£çš„ä¼‘æ¯ä¸æ¢å¤ã€‚</p>
                    </div>
                </div>
            </section>

            <!-- äº’åŠ¨åŒºåŸŸï¼šå¿ƒæƒ…è®°å½• -->
            <section class="mb-16">
                <div class="mood-tracker p-8">
                    <h2 class="text-2xl text-teal-700 mb-6 text-center">åˆ†äº«æ‚¨çš„å¿ƒæƒ…</h2>
                    <p class="text-center mb-6">è®°å½•å½“ä¸‹çš„å¿ƒæƒ…ï¼Œä¸ä»–äººåˆ†äº«æ‚¨çš„æ„Ÿå—</p>
                    
                    <div class="mb-6">
                        <label for="username" class="block mb-2 text-gray-700">æ‚¨çš„åå­— (å¯é€‰):</label>
                        <input type="text" id="username" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-300" placeholder="ç•™ç©ºåˆ™æ˜¾ç¤ºä¸º"åŒ¿åç”¨æˆ·"">
                    </div>
                    
                    <div class="mood-selector flex flex-wrap justify-center gap-4 mb-8">
                        <button class="mood-btn p-4 rounded-full bg-red-100 hover:bg-red-200 focus:outline-none" onclick="selectMood('joyful')">
                            <span class="text-2xl">ğŸ˜Š</span>
                            <span class="block mt-1">æ„‰æ‚¦</span>
                        </button>
                        <button class="mood-btn p-4 rounded-full bg-orange-100 hover:bg-orange-200 focus:outline-none" onclick="selectMood('calm')">
                            <span class="text-2xl">ğŸ˜Œ</span>
                            <span class="block mt-1">å¹³é™</span>
                        </button>
                        <button class="mood-btn p-4 rounded-full bg-yellow-100 hover:bg-yellow-200 focus:outline-none" onclick="selectMood('excited')">
                            <span class="text-2xl">ğŸ˜ƒ</span>
                            <span class="block mt-1">å…´å¥‹</span>
                        </button>
                        <button class="mood-btn p-4 rounded-full bg-blue-100 hover:bg-blue-200 focus:outline-none" onclick="selectMood('tired')">
                            <span class="text-2xl">ğŸ˜”</span>
                            <span class="block mt-1">ç–²æƒ«</span>
                        </button>
                        <button class="mood-btn p-4 rounded-full bg-purple-100 hover:bg-purple-200 focus:outline-none" onclick="selectMood('anxious')">
                            <span class="text-2xl">ğŸ˜Ÿ</span>
                            <span class="block mt-1">ç„¦è™‘</span>
                        </button>
                    </div>
                    
                    <div class="mb-6">
                        <label for="moodNote" class="block mb-2 text-gray-700">è®°å½•ä¸€ä¸‹æ‚¨çš„æ„Ÿå—:</label>
                        <textarea id="moodNote" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-300" placeholder="å†™ä¸‹æ‚¨çš„æ„Ÿå—..."></textarea>
                    </div>
                    
                    <div class="flex justify-center space-x-4">
                        <button id="saveMoodBtn" class="btn-primary px-6 py-2 rounded-lg text-white focus:outline-none">
                            åˆ†äº«å¿ƒæƒ…
                        </button>
                        <button id="clearPersonalBtn" class="px-6 py-2 rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200 focus:outline-none">
                            æ¸…é™¤æˆ‘çš„è®°å½•
                        </button>
                    </div>
                    
                    <div id="moodMessage" class="mt-4 text-center hidden"></div>
                </div>
            </section>

            <!-- å…±äº«å†å²è®°å½•åŒºåŸŸ -->
            <section class="mb-20">
                <div class="card p-8">
                    <h2 class="text-2xl text-teal-700 mb-6 text-center">å¿ƒæƒ…å…±äº«å¢™</h2>
                    <p class="text-center mb-6">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å½¼æ­¤åˆ†äº«å¿ƒæƒ…ï¼Œäº’ç›¸ç»™äºˆæ¸©æš–ä¸ç†è§£</p>
                    
                    <div id="sharedMoodHistory" class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
                        <!-- å†å²è®°å½•å°†åœ¨è¿™é‡ŒåŠ¨æ€åŠ è½½ -->
                        <div class="text-center text-gray-500 col-span-full py-8" id="noRecordsMessage">
                            æš‚æ— è®°å½•ï¼Œæˆä¸ºç¬¬ä¸€ä¸ªåˆ†äº«å¿ƒæƒ…çš„äººå§ï¼
                        </div>
                    </div>
                </div>
            </section>

            <!-- æ”¾æ¾æŒ‡å— -->
            <section class="mb-20">
                <div class="card p-8">
                    <h2 class="text-2xl text-teal-700 mb-6">ä¸€åˆ†é’Ÿæ”¾æ¾æŒ‡å—</h2>
                    <p class="mb-4">å½“å‹åŠ›æ¥è¢­æ—¶ï¼Œè¿™ä¸ªç®€å•çš„æ”¾æ¾ç»ƒä¹ å¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿå¹³é™ä¸‹æ¥ï¼š</p>
                    
                    <ol class="list-decimal pl-6 space-y-3">
                        <li>æ‰¾ä¸€ä¸ªèˆ’é€‚çš„å§¿åŠ¿åä¸‹ï¼ŒåŒè„šå¹³æ”¾åœ¨åœ°ä¸Š</li>
                        <li>é—­ä¸Šçœ¼ç›ï¼Œæ·±å¸ä¸€å£æ°”ï¼Œæ•°åˆ°4</li>
                        <li>å±ä½å‘¼å¸ï¼Œæ•°åˆ°2</li>
                        <li>ç¼“ç¼“å‘¼æ°”ï¼Œæ•°åˆ°6</li>
                        <li>é‡å¤è¿™ä¸ªè¿‡ç¨‹5æ¬¡</li>
                        <li>æ„Ÿå—èº«ä½“çš„æ”¾æ¾ï¼Œæ³¨æ„åŠ›æ”¾åœ¨å½“ä¸‹</li>
                    </ol>
                    
                    <p class="mt-4">è¿™ä¸ªç®€å•çš„ç»ƒä¹ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿›è¡Œï¼Œå¸®åŠ©ä½ åœ¨å¿™ç¢Œçš„ä¸€å¤©ä¸­æ‰¾åˆ°ç‰‡åˆ»çš„å¹³é™ã€‚</p>
                </div>
            </section>
        </main>

        <!-- é¡µè„š -->
        <footer class="text-center text-gray-500 mt-12 pt-4 border-t border-gray-200">
            <p>å¿ƒçµä¼‘æ†©ç©ºé—´ Â© 2023 - æ„¿ä½ å†…å¿ƒå……æ»¡å¹³é™ä¸é˜³å…‰</p>
        </footer>
    </div>

    <!-- JavaScript -->
    <script>
        // éŸ³ä¹æ’­æ”¾å™¨åŠŸèƒ½
        const audioPlayer = document.getElementById('audioPlayer');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const volumeSlider = document.getElementById('volumeSlider');
        const volumeIcon = document.getElementById('volumeIcon');
        const nowPlaying = document.getElementById('nowPlaying');
        const currentTrack = document.getElementById('currentTrack');
        const musicOptions = document.querySelectorAll('.music-option');
        
        let isPlaying = false;
        let currentMusicBtn = null;
        
        // åˆå§‹åŒ–éŸ³é‡
        audioPlayer.volume = volumeSlider.value / 100;
        
        // æ’­æ”¾/æš‚åœæŒ‰é’®
        playPauseBtn.addEventListener('click', function() {
            if (!audioPlayer.src && musicOptions.length > 0) {
                // å¦‚æœæ²¡æœ‰é€‰ä¸­çš„éŸ³ä¹ï¼Œé»˜è®¤æ’­æ”¾ç¬¬ä¸€é¦–
                const firstMusic = musicOptions[0];
                audioPlayer.src = firstMusic.dataset.src;
                currentTrack.textContent = firstMusic.textContent.trim();
                currentMusicBtn = firstMusic;
                firstMusic.classList.add('active-music');
            }
            
            if (isPlaying) {
                audioPlayer.pause();
                playPauseBtn.innerHTML = '<i class="fas fa-play text-blue-700"></i>';
            } else {
                audioPlayer.play();
                playPauseBtn.innerHTML = '<i class="fas fa-pause text-blue-700"></i>';
            }
            
            isPlaying = !isPlaying;
            nowPlaying.classList.remove('hidden');
        });
        
        // éŸ³é‡æ§åˆ¶
        volumeSlider.addEventListener('input', function() {
            audioPlayer.volume = this.value / 100;
            updateVolumeIcon();
        });
        
        // æ›´æ–°éŸ³é‡å›¾æ ‡
        function updateVolumeIcon() {
            const volume = audioPlayer.volume;
            
            if (volume === 0) {
                volumeIcon.innerHTML = '<i class="fas fa-volume-mute"></i>';
            } else if (volume < 0.5) {
                volumeIcon.innerHTML = '<i class="fas fa-volume-down"></i>';
            } else {
                volumeIcon.innerHTML = '<i class="fas fa-volume-up"></i>';
            }
        }
        
        // ç‚¹å‡»éŸ³ä¹é€‰é¡¹
        musicOptions.forEach(btn => {
            btn.addEventListener('click', function() {
                // ç§»é™¤ä¹‹å‰çš„é€‰æ‹©çŠ¶æ€
                if (currentMusicBtn) {
                    currentMusicBtn.classList.remove('active-music');
                }
                
                // æ·»åŠ æ–°çš„é€‰æ‹©çŠ¶æ€
                this.classList.add('active-music');
                currentMusicBtn = this;
                
                // è®¾ç½®éŸ³ä¹æº
                audioPlayer.src = this.dataset.src;
                currentTrack.textContent = this.textContent.trim();
                
                // æ’­æ”¾éŸ³ä¹
                audioPlayer.play();
                playPauseBtn.innerHTML = '<i class="fas fa-pause text-blue-700"></i>';
                isPlaying = true;
                
                // æ˜¾ç¤ºæ­£åœ¨æ’­æ”¾ä¿¡æ¯
                nowPlaying.classList.remove('hidden');
            });
        });
        
        // éŸ³ä¹ç»“æŸæ—¶
        audioPlayer.addEventListener('ended', function() {
            isPlaying = false;
            playPauseBtn.innerHTML = '<i class="fas fa-play text-blue-700"></i>';
        });
        
        // å¿ƒæƒ…é€‰æ‹©åŠŸèƒ½
        let selectedMood = '';
        
        function selectMood(mood) {
            selectedMood = mood;
            
            // ç§»é™¤ä¹‹å‰çš„é€‰æ‹©çŠ¶æ€
            document.querySelectorAll('.mood-btn').forEach(btn => {
                btn.classList.remove('ring-2', 'ring-blue-500');
            });
            
            // æ·»åŠ æ–°çš„é€‰æ‹©çŠ¶æ€
            event.currentTarget.classList.add('ring-2', 'ring-blue-500');
        }
        
        // ç”Ÿæˆå”¯ä¸€ID
        function generateUniqueId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2, 5);
        }
        
        // è·å–ç”¨æˆ·ID
        function getUserId() {
            let userId = localStorage.getItem('userId');
            if (!userId) {
                userId = generateUniqueId();
                localStorage.setItem('userId', userId);
            }
            return userId;
        }
        
        // ä¿å­˜å¿ƒæƒ…è®°å½•
        document.getElementById('saveMoodBtn').addEventListener('click', function() {
            const username = document.getElementById('username').value.trim() || 'åŒ¿åç”¨æˆ·';
            const moodNote = document.getElementById('moodNote').value;
            const messageDiv = document.getElementById('moodMessage');
            
            if (!selectedMood && !moodNote) {
                messageDiv.textContent = "è¯·é€‰æ‹©å¿ƒæƒ…æˆ–è®°å½•æ„Ÿå—";
                messageDiv.classList.remove('hidden', 'text-green-500');
                messageDiv.classList.add('text-red-500');
                messageDiv.classList.remove('hidden');
                setTimeout(() => messageDiv.classList.add('hidden'), 3000);
                return;
            }
            
            // è·å–å½“å‰æ—¶é—´
            const now = new Date();
            const formattedDate = `${now.getFullYear()}-${String(now.getMonth()+1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')} ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
            
            // åˆ›å»ºå¿ƒæƒ…è®°å½•å¯¹è±¡
            const moodData = {
                id: generateUniqueId(),
                userId: getUserId(),
                username: username,
                mood: selectedMood,
                note: moodNote,
                date: formattedDate
            };
            
            // è·å–ç°æœ‰è®°å½•
            let moodHistory = JSON.parse(localStorage.getItem('sharedMoodHistory')) || [];
            moodHistory.unshift(moodData); // æ·»åŠ åˆ°æ•°ç»„å¼€å¤´
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('sharedMoodHistory', JSON.stringify(moodHistory));
            
            // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
            messageDiv.textContent = "æ‚¨çš„å¿ƒæƒ…å·²åˆ†äº«";
            messageDiv.classList.remove('hidden', 'text-red-500');
            messageDiv.classList.add('text-green-500');
            messageDiv.classList.remove('hidden');
            setTimeout(() => messageDiv.classList.add('hidden'), 3000);
            
            // é‡ç½®è¡¨å•
            selectedMood = '';
            document.getElementById('moodNote').value = '';
            document.querySelectorAll('.mood-btn').forEach(btn => {
                btn.classList.remove('ring-2', 'ring-blue-500');
            });
            
            // æ˜¾ç¤ºå†å²è®°å½•
            displaySharedMoodHistory();
        });
        
        // æ¸…é™¤ä¸ªäººè®°å½•
        document.getElementById('clearPersonalBtn').addEventListener('click', function() {
            const userId = getUserId();
            let moodHistory = JSON.parse(localStorage.getItem('sharedMoodHistory')) || [];
            
            // è¿‡æ»¤å‡ºä¸æ˜¯å½“å‰ç”¨æˆ·çš„è®°å½•
            moodHistory = moodHistory.filter(entry => entry.userId !== userId);
            
            // ä¿å­˜æ›´æ–°åçš„è®°å½•
            localStorage.setItem('sharedMoodHistory', JSON.stringify(moodHistory));
            
            // æ˜¾ç¤ºæ¶ˆæ¯
            const messageDiv = document.getElementById('moodMessage');
            messageDiv.textContent = "æ‚¨çš„è®°å½•å·²æ¸…é™¤";
            messageDiv.classList.remove('hidden', 'text-red-500');
            messageDiv.classList.add('text-green-500');
            messageDiv.classList.remove('hidden');
            setTimeout(() => messageDiv.classList.add('hidden'), 3000);
            
            // æ›´æ–°æ˜¾ç¤º
            displaySharedMoodHistory();
        });
        
        // æ˜¾ç¤ºå…±äº«å†å²è®°å½•
        function displaySharedMoodHistory() {
            const moodHistory = JSON.parse(localStorage.getItem('sharedMoodHistory')) || [];
            const historyContainer = document.getElementById('sharedMoodHistory');
            const noRecordsMessage = document.getElementById('noRecordsMessage');
            
            if (moodHistory.length > 0) {
                noRecordsMessage.classList.add('hidden');
                historyContainer.innerHTML = '';
                
                moodHistory.forEach(entry => {
                    let moodEmoji = '';
                    let moodClass = '';
                    
                    switch(entry.mood) {
                        case 'joyful': 
                            moodEmoji = 'ğŸ˜Š'; 
                            moodClass = 'bg-red-50 border-red-100';
                            break;
                        case 'calm': 
                            moodEmoji = 'ğŸ˜Œ'; 
                            moodClass = 'bg-orange-50 border-orange-100';
                            break;
                        case 'excited': 
                            moodEmoji = 'ğŸ˜ƒ'; 
                            moodClass = 'bg-yellow-50 border-yellow-100';
                            break;
                        case 'tired': 
                            moodEmoji = 'ğŸ˜”'; 
                            moodClass = 'bg-blue-50 border-blue-100';
                            break;
                        case 'anxious': 
                            moodEmoji = 'ğŸ˜Ÿ'; 
                            moodClass = 'bg-purple-50 border-purple-100';
                            break;
                        default: 
                            moodEmoji = 'ğŸ“';
                            moodClass = 'bg-gray-50 border-gray-100';
                    }
                    
                    const entryDiv = document.createElement('div');
                    entryDiv.className = `mood-history-card p-4 rounded-lg border ${moodClass}`;
                    entryDiv.innerHTML = `
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center">
                                <span class="text-xl mr-2">${moodEmoji}</span>
                                <span class="font-medium">${entry.username}</span>
                            </div>
                            <span class="text-xs text-gray-500">${entry.date}</span>
                        </div>
                        ${entry.note ? `<p class="text-gray-700">${entry.note}</p>` : '<p class="text-gray-500 italic">æ— æ–‡å­—è®°å½•</p>'}
                    `;
                    
                    // æ ‡è®°å½“å‰ç”¨æˆ·çš„è®°å½•
                    if (entry.userId === getUserId()) {
                        entryDiv.classList.add('border-l-4', 'border-l-blue-400');
                    }
                    
                    historyContainer.appendChild(entryDiv);
                });
            } else {
                noRecordsMessage.classList.remove('hidden');
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºå†å²è®°å½•
        window.addEventListener('load', displaySharedMoodHistory);
    </script>
</body>
</html>
